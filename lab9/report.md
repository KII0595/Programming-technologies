# Отчет по лабораторной работе №9  
## Принципы поддержания качества кода: SOLID и Рефакторинг

**Дата:** 2025-12-28  
**Семестр:** 2 курс, 1 полугодие (3 семестр)  
**Группа:** ПИН-б-о-24-1  
**Дисциплина:** Технологии программирования  
**Студент:** Кочкарев Ислам Ильясович  

### Цель работы
Практическое освоение техник рефакторинга, применение принципов SOLID для устранения запахов кода и построения гибкой, поддерживаемой архитектуры системы учёта сотрудников компании на Python 3.x.

### Теоретическая база

**Принципы SOLID**
- **SRP** – один класс отвечает за одну задачу
- **OCP** – открытость для расширения, закрытость для модификации
- **LSP** – подтипы должны быть взаимозаменяемы
- **ISP** – клиенты не зависят от неиспользуемых интерфейсов
- **DIP** – зависимость от абстракций, а не от конкретных реализаций

**Использованные паттерны**
- Strategy – для вариативных алгоритмов расчёта зарплаты и бонусов
- Repository – абстракция работы с хранилищем сотрудников

**Устранённые запахи кода**
- Дублирование логики валидации
- Жёсткие зависимости между классами
- Сложные методы расчёта
- Отсутствие типизации и тестов

### Основные этапы работы
- Анализ исходного кода, выявление проблем
- Вынос валидации в отдельные классы
- Введение стратегий расчёта (Strategy Pattern)
- Применение Dependency Injection для стратегий
- Реализация Repository с автоматической генерацией ID
- Написание полного набора тестов (unit, параметризованные, edge-кейсы)
- Настройка инструментов качества: pylint, black, mypy

### Достигнутые улучшения

| Показатель               | Исходное значение | После рефакторинга | Рост/снижение |
|--------------------------|-------------------|--------------------|---------------|
| Pylint score             | 6.3/10            | **9.6/10**         | +52%          |
| Type Hints Coverage      | 28%               | **96%**            | +68%          |
| Code Duplication         | 17%               | **0%**             | -100%         |
| Cyclomatic Complexity    | 9                 | **3**              | -67%          |
| Test Coverage            | 0%                | **98%**            | +98%          |

### Демонстрация работы программы

```text
Запуск демонстрации...

Список сотрудников:
- Максим Кузнецов (ID: 1) – $11000.00
- Ольга Иванова (ID: 2) – $10100.00
- Сергей Петров (ID: 3) – $3750.00

Общая статистика:
Количество сотрудников: 3
Фонд заработной платы: $24850.00
Средняя зарплата: $8283.33

demo end
```

### Результаты тестирования

Все 24 теста успешно пройдены за 0.07 сек.

```bash
============================= 24 passed in 0.07s ==============================
```

## Выводы

- Принципы SOLID позволили создать чистую, модульную архитектуру с чётким разделением ответственностей.
- Паттерн Strategy обеспечил лёгкую замену и добавление новых алгоритмов расчёта без изменения существующих классов.
- Repository Pattern упростил работу с данными и сделал систему готовой к замене хранилища (например, на БД).
- Dependency Injection значительно повысил тестируемость кода.
- Регулярное использование pylint, mypy и black помогает поддерживать высокий уровень качества на всём протяжении разработки.
